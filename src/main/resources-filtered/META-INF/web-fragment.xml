<?xml version="1.0" encoding="UTF-8"?>
<!--
aoweb-struts-core - Core API for legacy Struts-based site framework with AOServ Platform control panels.
Copyright (C) 2016, 2019, 2020  AO Industries, Inc.
    support@aoindustries.com
    7262 Bull Pen Cir
    Mobile, AL 36695

This file is part of aoweb-struts-core.

aoweb-struts-core is free software: you can redistribute it and/or modify
it under the terms of the GNU Lesser General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

aoweb-struts-core is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public License
along with aoweb-struts-core.  If not, see <http://www.gnu.org/licenses />.
-->
<web-fragment xmlns="http://java.sun.com/xml/ns/javaee"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://java.sun.com/xml/ns/javaee
                      http://java.sun.com/xml/ns/javaee/web-fragment_3_0.xsd"
  version="3.0"
  metadata-complete="false">
	<name>@{project.artifactId}-@{project.version}</name>
	<!-- Causes error: "The display name was defined in multiple fragments with different value"
	<display-name>@{project.name}</display-name>
	-->
	<description>@{project.description}</description>

	<!-- Filter to write selective values into URL when cookies disabled for SEO purposes. -->
	<filter>
		<filter-name>com.aoindustries.website.SessionFilter</filter-name>
		<filter-class>com.aoindustries.website.SessionFilter</filter-class>
	</filter>
	<filter-mapping>
		<filter-name>com.aoindustries.website.SessionFilter</filter-name>
		<url-pattern>/*</url-pattern>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>ERROR</dispatcher>
	</filter-mapping>

	<!-- Perform final URI/IRI encoding -->
	<filter>
		<filter-name>com.aoindustries.servlet.filter.EncodeURIFilter</filter-name>
		<filter-class>com.aoindustries.servlet.filter.EncodeURIFilter</filter-class>
		<description>
			Encodes the URL to either RFC 3986 URI US-ASCII format or RFC 3987
			IRI Unicode format.  Redirects are always formatted as RFC 3986 URI.
		</description>
		<init-param>
			<description>
				IRI support is disabled by default, and only recommended for
				development or internal systems.  IRI may result in slightly
				smaller output, and more readable HTML source, but for
				interoperability should be off in production systems.
			</description>
			<param-name>enableIRI</param-name>
			<param-value>false</param-value>
		</init-param>
	</filter>
	<filter-mapping>
		<filter-name>com.aoindustries.servlet.filter.EncodeURIFilter</filter-name>
		<url-pattern>/*</url-pattern>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>ERROR</dispatcher>
	</filter-mapping>

</web-fragment>
