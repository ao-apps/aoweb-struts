<?xml version="1.0" encoding="UTF-8"?>
<!--
aoweb-struts: Do not edit

This page is the master template for the web.xml file.  If the following files
exist, the contents of the file will be substituted into the proper place in
this file by the build system.

web.xml.contextParams         Context parameters
web.xml.strutsInitParams      Additional Struts servlet init parameters
web.xml.servlets              Additional servlets
web.xml.servletMappingsPre    Servlet mappings placed before the Struts mappings
web.xml.servletMappingsPost   Servlet mappings placed after the Struts mappings
-->
<web-app xmlns="http://java.sun.com/xml/ns/javaee"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://java.sun.com/xml/ns/javaee
                      http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"
  version="3.0"
  metadata-complete="false">

	<context-param>
		<param-name>javax.servlet.jsp.jstl.fmt.localizationContext</param-name>
		<param-value>com.aoindustries.website.SiteApplicationResources</param-value>
	</context-param>
<!-- Include "web.xml.contextParams" -->

	<!-- Filter to disallow direct JSP access, redirects /index.jsp to /index.do -->
	<filter>
		<filter-name>NoDirectJspFilter</filter-name>
		<filter-class>com.aoindustries.website.NoDirectJspFilter</filter-class>
	</filter>
	<filter-mapping>
		<filter-name>NoDirectJspFilter</filter-name>
		<url-pattern>*.jsp</url-pattern>
		<dispatcher>REQUEST</dispatcher>
	</filter-mapping>
	<!-- Filter to make HTTPS sessions be carried over to HTTP -->
	<filter>
		<filter-name>SessionFilter</filter-name>
		<filter-class>com.aoindustries.website.SessionFilter</filter-class>
	</filter>
	<filter-mapping>
		<filter-name>SessionFilter</filter-name>
		<url-pattern>/*</url-pattern>
	</filter-mapping>
	<!-- Filter unnecessary whitespace -->
	<filter>
		<filter-name>TrimFilter</filter-name>
		<filter-class>com.aoindustries.servlet.filter.TrimFilter</filter-class>
	</filter>
	<filter-mapping>
		<filter-name>TrimFilter</filter-name>
		<url-pattern>*.jsp</url-pattern>
		<dispatcher>FORWARD</dispatcher>
	</filter-mapping>
	<!-- Filter to set request character encoding based on locale in session -->
	<filter>
		<filter-name>SetRequestCharacterEncodingFilter</filter-name>
		<filter-class>com.aoindustries.website.SetRequestCharacterEncodingFilter</filter-class>
	</filter>
	<filter-mapping>
		<filter-name>SetRequestCharacterEncodingFilter</filter-name>
		<url-pattern>/*</url-pattern>
	</filter-mapping>

	<!-- Action Servlet Configuration -->
	<servlet>
		<servlet-name>action</servlet-name>
		<servlet-class>org.apache.struts.action.ActionServlet</servlet-class>
		<init-param>
			<param-name>config</param-name>
			<param-value>/WEB-INF/struts-config.xml</param-value>
		</init-param>
		<init-param>
			<param-name>config/clientarea</param-name>
			<param-value>/WEB-INF/struts-config-clientarea.xml</param-value>
		</init-param>
		<init-param>
			<param-name>config/clientarea/accounting</param-name>
			<param-value>/WEB-INF/struts-config-clientarea-accounting.xml</param-value>
		</init-param>
		<init-param>
			<param-name>config/clientarea/control</param-name>
			<param-value>/WEB-INF/struts-config-clientarea-control.xml</param-value>
		</init-param>
		<init-param>
			<param-name>config/clientarea/ticket</param-name>
			<param-value>/WEB-INF/struts-config-clientarea-ticket.xml</param-value>
		</init-param>
		<init-param>
			<param-name>config/signup</param-name>
			<param-value>/WEB-INF/struts-config-signup.xml</param-value>
		</init-param>
<!-- Include "web.xml.strutsInitParams" -->
		<load-on-startup>2</load-on-startup>
	</servlet>

<!-- Include "web.xml.servlets" -->

<!-- Include "web.xml.servletMappingsPre" -->

	<!-- Action Servlet Mapping -->
	<servlet-mapping>
		<servlet-name>action</servlet-name>
		<url-pattern>*.do</url-pattern>
	</servlet-mapping>
  
<!-- Include "web.xml.servletMappingsPost" -->

	<session-config>
		<session-timeout>61</session-timeout>
	</session-config>

	<welcome-file-list>
		<welcome-file>index.jsp</welcome-file>
	</welcome-file-list>

	<!-- Error Pages -->
	<error-page>
		<error-code>404</error-code>
		<location>/not-found.do</location>
	</error-page>
	<error-page>
		<error-code>500</error-code>
		<location>/exception.do</location>
	</error-page>
	<error-page>
		<exception-type>java.lang.Exception</exception-type>
		<location>/exception.do</location>
	</error-page>
</web-app>
